## 2.4 Dockerfile

### 2.4.1 이미지를 생성하는 방법

개발한 애플리케이션을 컨테이너화하는 방법  
  1. 아무것도 존재하지 않는 이미지(우분투,CentOS 등)로 컨테이너 생성
  2. 애플리케이션을 위한 환경을 설치하고 소스코드 등을 복사해 잘 동작하는지 확인
  3. 컨테이너를 이미지로 커밋(commit)

도커는 위와 같은 일련의 과정을 손쉽게 기록하고 수행할 수 있는 빌드(build) 명령어를 제공한다.  
> Dockerfile
```
컨테이너에 설치해야 하는 패키지, 추가해야 하는 소스코드, 실행해야 하는 명령어, 셸 스크립트 등을 하나의 파일에 기록해 두면 도커는 이 파일을 읽어 컨테이너에서 작업을 수행한 뒤 이미지로 만들어낸다.
```

> 도커 허브에 이미지 대신 Dockerfile을 배포할 수 있다.  
```
배포되는 이미지를 신뢰할 수 없거나 직접 이미지를 생성해서 사용하고 싶다면 도커 허브에 올려져 있는 Dockerfile로 빌드하는 것도 하나의 방법.
```


### 2.4.2 Dockerfile 작성

> 웹 서버 이미지 생성하기


### 2.4.3 Dockerfile 빌드

#### 2.4.3.1 이미지생성

#### 2.4.3.2 빌드 과정 살펴보기

#### 2.4.3.3 멀티 스테이지를 이용한 Dockerfile 빌드하기

### 2.4.4 기타 Dockerfile 명령어

#### 2.4.4.1 ENV, VOLUME, ARG, USER

#### 2.4.4.2 Onbuild, Stopsignal, Healthcheck, Shell

#### 2.4.4.3 ADD. COPY

#### 2.4.4.4 ENTRYPOINT, CMD

### 2.4.5 Dockerfile로 빌드할 때 주의할 점